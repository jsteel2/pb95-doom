not proud of this, but it works i guess
see main.py comments for things that could be done better
